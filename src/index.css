@tailwind base;
@tailwind components;
@tailwind utilities;

:root{ color-scheme: light; }
html,body,#root{ height:100%; }
body{
  /* dégradé bordeaux */
  @apply bg-gradient-to-b from-candy-50 via-white to-candy-100 text-pirate;
}

.btn{ @apply inline-flex items-center gap-2 rounded-2xl px-4 py-2 font-semibold text-white bg-candy-500 shadow-candy hover:bg-candy-600 active:scale-95 transition; }
.btn-outline{ @apply bg-white text-candy-600 border-2 border-candy-500 hover:bg-candy-50; }
.card{ @apply rounded-3xl bg-white/80 backdrop-blur shadow-candy p-4; }
.tag{ @apply inline-block text-xs px-2 py-0.5 rounded-full bg-candy-100 text-candy-700; }

@keyframes shine {
  0% { transform: skewX(-12deg) translateX(-120%); }
  100% { transform: skewX(-12deg) translateX(120%); }
}

@keyframes shine {
  0% { transform: skewX(-12deg) translateX(-120%); }
  100% { transform: skewX(-12deg) translateX(120%); }
}
@keyframes pulseGlow {
  0%,100% { box-shadow: 0 0 0 0 rgba(255,79,138,.35); }
  50%     { box-shadow: 0 0 30px 10px rgba(255,79,138,.22); }
}
.animate-shine     { animation: shine 1.8s linear infinite; }
.animate-pulseGlow { animation: pulseGlow 2.2s ease-in-out infinite; }

.btn-danger{
  @apply inline-flex items-center gap-2 rounded-2xl px-4 py-2 font-semibold text-white
         bg-candy-800 hover:bg-candy-900 active:scale-95 transition shadow-candy;
}
.icon-btn{
  @apply w-8 h-8 grid place-items-center rounded-full bg-white text-candy-700
         border-2 border-candy-300 shadow-candy active:scale-95;
}


/* ---- THEME POEMS (vert) : override classes candy uniquement dans .poems-theme ---- */
.poems-theme {
  --poem-green-50:#ecfdf5;
  --poem-green-100:#d1fae5;
  --poem-green-300:#6ee7b7;
  --poem-green-600:#059669;
  --poem-green-700:#047857;
}
.poems-theme .bg-candy-500 { background-color: var(--poem-green-600) !important; }
.poems-theme .bg-candy-600 { background-color: var(--poem-green-700) !important; }
.poems-theme .bg-candy-700 { background-color: var(--poem-green-700) !important; }
.poems-theme .text-candy-700 { color: var(--poem-green-700) !important; }
.poems-theme .border-candy-300 { border-color: var(--poem-green-300) !important; }
.poems-theme .shadow-candy { box-shadow: 0 10px 20px rgba(16,185,129,.22), 0 6px 6px rgba(5,150,105,.18) !important; }
.poems-theme .btn-primary { background-color: var(--poem-green-600) !important; border-color: var(--poem-green-600) !important; }

/* ===== Birds sprite diagonaux pour transition Poèmes ===== */
.poem-birds-container { position: absolute; inset: 0; overflow: hidden; }

/* Sprite (CodePen style), mais en CSS “plat” */
.bird {
  background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/174479/bird-cells-new.svg');
  background-size: auto 100%;
  width: 88px; height: 125px;
  will-change: background-position;
  filter: drop-shadow(0 6px 10px rgba(4,120,87,.25));
  animation-name: bird-cycle;
  animation-timing-function: steps(10);
  animation-iteration-count: 1;
}

/* cycle d’ailes court (comme la durée d’overlay ~1.4s) */
@keyframes bird-cycle { to { background-position: -900px 0; } }

/* Container = trajectoire diagonale bas-gauche -> haut-droit */
.bird-container {
  position: absolute;
  left: -20vw; bottom: -20vh;
  transform: translate3d(0,0,0) scale(.75);
  will-change: transform, opacity;
  opacity: 0;
  animation-name: fly-diagonal;
  animation-timing-function: cubic-bezier(.25,.8,.3,1);
  animation-fill-mode: both;
}

/* Trajectoire courte (1.4–1.9s), légère ondulation */
@keyframes fly-diagonal {
  0%   { transform: translate(-10vw, 15vh) scale(.7) rotate(-6deg); opacity: 0; }
  10%  { opacity: 1; }
  45%  { transform: translate(35vw, -5vh)  scale(.8) rotate(-2deg); }
  70%  { transform: translate(70vw, -20vh) scale(.9) rotate(0deg); }
  100% { transform: translate(110vw, -45vh) scale(1) rotate(3deg); opacity: 0; }
}

/* Variantes de durées/délais pour 12 oiseaux */
.bird-container--1  { animation-duration: 1.4s; animation-delay: 0ms;   }
.bird-container--2  { animation-duration: 1.5s; animation-delay: 80ms;  }
.bird-container--3  { animation-duration: 1.55s; animation-delay: 160ms;}
.bird-container--4  { animation-duration: 1.45s; animation-delay: 240ms;}
.bird-container--5  { animation-duration: 1.6s; animation-delay: 320ms; }
.bird-container--6  { animation-duration: 1.7s; animation-delay: 400ms; }
.bird-container--7  { animation-duration: 1.5s; animation-delay: 480ms; }
.bird-container--8  { animation-duration: 1.8s; animation-delay: 560ms; }
.bird-container--9  { animation-duration: 1.65s;animation-delay: 640ms; }
.bird-container--10 { animation-duration: 1.9s; animation-delay: 720ms; }
.bird-container--11 { animation-duration: 1.55s;animation-delay: 800ms; }
.bird-container--12 { animation-duration: 1.75s;animation-delay: 880ms; }

/* Vitesses d'ailes (un poil variées) */
.bird--1, .bird--7  { animation-duration: .9s; }
.bird--2, .bird--8  { animation-duration: 1.0s; }
.bird--3, .bird--9  { animation-duration: .95s; }
.bird--4, .bird--10 { animation-duration: 1.05s; }
.bird--5, .bird--11 { animation-duration: 1.1s; }
.bird--6, .bird--12 { animation-duration: 1.0s; }

/* Fallback logo (si reduce motion) – on garde ce que tu avais */
.logo-container { position: absolute; inset: auto 0 6%; display: grid; place-items: center; }
.logo-rise { width: 72px; height: 72px; opacity: 0; }
@keyframes rise-spin {
  0% { transform: translateY(100%) rotate(0turn) scale(.8); opacity: 0; }
  60% { opacity: 1; }
  100% { transform: translateY(-70vh) rotate(1turn) scale(1); opacity: 0; }
}
.logo-rise { animation: rise-spin 1.1s ease-out both; }

@media (prefers-reduced-motion: reduce) {
  .poem-birds-container { display: none; }
  .logo-rise { animation-duration: .8s; }
}